<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=menu" />
    <link rel="stylesheet" href="estilo/style.css">
    <link rel="stylesheet" href="estilo/media-query.css">
    <title>Produto</title>
    <style>
        .produto-container{width:90%;height:auto;max-width:800px;margin:0 auto;background:transparent;padding:0;border-radius:0;min-height:70vh}
        .produto-title{font-size:20px;margin-bottom:8px}
        .produto-img{width:100%;height:420px;object-fit:cover;border-radius:6px;margin-bottom:12px}
        .comprar-primary{background:#0b74de;color:#fff;padding:10px 14px;border-radius:6px;border:none;font-weight:700;cursor:pointer;transition:all 0.3s ease}
        .comprar-primary:disabled{background:#888;cursor:not-allowed;opacity:0.6}
        .comprar-primary:hover:not(:disabled){background:#0a5db3}
        .voltar-btn{display:block;color:#333;text-decoration:none;padding:8px 12px;border-radius:6px;background:#f0f0f0;border:1px solid #ddd;transition:all 0.3s ease;margin-bottom:20px;width:fit-content}
        .voltar-btn:hover{background:#e0e0e0;border-color:#999}
        .estoque-container{margin:15px 0;padding:10px;background:#f5f5f5;border-radius:6px;border-left:4px solid #0b74de}
        .estoque-info{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
        .estoque-status{font-weight:700;font-size:14px}
        .estoque-disponivel{color:#27ae60}
        .estoque-indisponivel{color:#e74c3c}
        .quantidade-container{display:flex;align-items:center;gap:10px}
        .quantidade-label{font-weight:600;font-size:14px}
        #quantidade-input{width:80px;padding:6px;border:1px solid #ddd;border-radius:4px;font-size:14px;text-align:center}
        .preco-container{margin:10px 0;padding:12px;background:#fff3cd;border-radius:6px;border-left:4px solid #ffc107}
        .preco-label{font-weight:600;font-size:14px;color:#333}
        #preco-unitario{font-size:18px;font-weight:700;color:#d67e04;margin-left:10px}
        #preco-total{font-size:16px;color:#666;margin-top:8px;padding-top:8px;border-top:1px solid#e0be64}
        .frete-container{margin:15px 0;padding:12px;background:#d4edda;border-radius:6px;border-left:4px solid #28a745}
        .frete-label{font-weight:600;font-size:14px;color:#333}
        .frete-opcoes{display:flex;flex-direction:column;gap:8px;margin-top:10px}
        .frete-opcao{display:flex;align-items:center;gap:10px}
        .frete-opcao input[type="radio"]{cursor:pointer}
        .frete-opcao label{cursor:pointer;font-size:14px;margin:0}
        #frete-valor{font-weight:700;color:#28a745;margin-left:10px}
        #valor-final{margin-top:12px;padding-top:12px;border-top:1px solid #5cbe5f;font-size:16px;font-weight:700;color:#155724;padding:10px;background:#fff;border-radius:4px}
    </style>
</head>
<body>
    <header>
        <h1>meu site</h1>
    </header>
    <main>
        <a href="index.html" class="voltar-btn">← Voltar</a>
        <article>
            <section class="produto-container">
                <h1 id="produto-name" class="produto-title">Produto</h1>
                <img id="produto-img" class="produto-img" src="https://via.placeholder.com/800x320?text=Produto" alt="Produto">
                <p id="produto-desc">Descrição do produto será exibida aqui.</p>
                <div class="estoque-container">
                    <div class="estoque-info">
                        <span class="estoque-status">Estoque:</span>
                        <span id="estoque-qtd" class="estoque-status estoque-disponivel">10 unidades</span>
                    </div>
                    <div class="quantidade-container">
                        <label class="quantidade-label" for="quantidade-input">Quantidade:</label>
                        <input type="number" id="quantidade-input" min="1" max="10" value="1" onchange="calcularPrecoTotal()">
                    </div>
                </div>
                <div class="preco-container">
                    <span class="preco-label">Preço unitário:</span>
                    <span id="preco-unitario">R$ 0,00</span>
                    <div id="preco-total">Total: R$ 0,00</div>
                </div>
                <div class="frete-container">
                    <span class="frete-label">Opção de Frete:</span>
                    <div class="frete-opcoes">
                        <div class="frete-opcao">
                            <input type="radio" id="frete-normal" name="frete" value="10" checked onchange="calcularFrete()">
                            <label for="frete-normal">Frete Normal (5-7 dias) - R$ 10,00</label>
                        </div>
                        <div class="frete-opcao">
                            <input type="radio" id="frete-expresso" name="frete" value="25" onchange="calcularFrete()">
                            <label for="frete-expresso">Frete Expresso (2-3 dias) - R$ 25,00</label>
                        </div>
                        <div class="frete-opcao">
                            <input type="radio" id="frete-agendado" name="frete" value="0" onchange="calcularFrete()">
                            <label for="frete-agendado">Retire na loja (Grátis)</label>
                        </div>
                    </div>
                    <div id="valor-final">Valor Final: R$ 0,00</div>
                </div>
                <button id="buy-now" class="comprar-primary" onclick="enviarContato()">Entrar em contato com vendedor</button>
            </section>
        </article>
    </main>
    <script>
        // Sistema de Estoque
        const estoqueData = {
            'Produto': 10 // Quantidade disponível
        };

        // Sistema de Preço
        const precoData = {
            'Produto': 99.90 // Preço unitário
        };

        // Sistema de Frete
        const fretesDisponiveis = {
            'normal': 10,
            'expresso': 25,
            'gratis': 0
        };

        // Simular carregamento de dados do produto
        function carregarProduto() {
            const nomeProduto = document.getElementById('produto-name').textContent;
            const quantidadeDisponivel = estoqueData[nomeProduto] || 0;
            const inputQuantidade = document.getElementById('quantidade-input');
            const botaoCompra = document.getElementById('buy-now');
            const estoqueQtd = document.getElementById('estoque-qtd');
            const precoUnitario = precoData[nomeProduto] || 0;

            // Atualizar input máximo e estoque
            inputQuantidade.max = quantidadeDisponivel;
            
            // Atualizar preço unitário
            document.getElementById('preco-unitario').textContent = `R$ ${precoUnitario.toFixed(2).replace('.', ',')}`;
            
            // Atualizar exibição de estoque
            if (quantidadeDisponivel > 0) {
                estoqueQtd.textContent = quantidadeDisponivel + ' unidade' + (quantidadeDisponivel > 1 ? 's' : '');
                estoqueQtd.className = 'estoque-status estoque-disponivel';
                botaoCompra.disabled = false;
            } else {
                estoqueQtd.textContent = 'Indisponível';
                estoqueQtd.className = 'estoque-status estoque-indisponivel';
                botaoCompra.disabled = true;
            }
            
            // Calcular preço total inicial
            calcularPrecoTotal();
        }

        // Validar quantidade ao alterar input
        document.getElementById('quantidade-input').addEventListener('change', function() {
            const max = parseInt(this.max);
            const valor = parseInt(this.value);
            
            if (valor > max) {
                this.value = max;
                alert('Quantidade máxima disponível: ' + max);
            } else if (valor < 1) {
                this.value = 1;
            }
            calcularPrecoTotal();
        });

        // Calcular e atualizar preço total
        function calcularPrecoTotal() {
            const quantidade = parseInt(document.getElementById('quantidade-input').value) || 1;
            const nomeProduto = document.getElementById('produto-name').textContent;
            const precoUnitario = precoData[nomeProduto] || 0;
            const precoTotal = (precoUnitario * quantidade).toFixed(2);
            
            document.getElementById('preco-total').textContent = `Total: R$ ${precoTotal.replace('.', ',')}`;
            calcularFrete();
        }

        // Calcular frete e valor final
        function calcularFrete() {
            const freteRadio = document.querySelector('input[name="frete"]:checked');
            const frete = parseFloat(freteRadio.value);
            const precoTotalText = document.getElementById('preco-total').textContent;
            const precoNumerico = parseFloat(precoTotalText.replace('Total: R$ ', '').replace(',', '.'));
            const valorFinal = (precoNumerico + frete).toFixed(2);
            
            // Atualizar exibição do valor final
            const freteLabel = freteRadio.nextElementSibling.textContent;
            const freteFormatado = frete === 0 ? 'Grátis' : `R$ ${frete.toFixed(2).replace('.', ',')}`;
            
            document.getElementById('valor-final').textContent = `Frete: ${freteFormatado} | Valor Final: R$ ${valorFinal.replace('.', ',')}`;
        }

        // Função para enviar contato com quantidade selecionada
        function enviarContato() {
            const quantidade = document.getElementById('quantidade-input').value;
            const nomeProduto = document.getElementById('produto-name').textContent;
            const mensagem = `Interesse: ${quantidade} unidade(s) de ${nomeProduto}`;
            
            navigator.clipboard.writeText('123');
            alert(`${mensagem}\n\nNúmero do vendedor copiado!`);
        }

        // Carregar produto ao iniciar página
        window.addEventListener('load', carregarProduto);
    </script>
</body>
</html>